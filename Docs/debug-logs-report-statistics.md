# Debug æ—¥å¿—éªŒè¯æŠ¥å‘Š - ç»Ÿè®¡åŠŸèƒ½

**é¡¹ç›®**: HabitKit
**åŠŸèƒ½**: ç»Ÿè®¡åŠŸèƒ½ (Statistics Feature)
**éªŒè¯æ—¶é—´**: 2026-01-29 15:03:30
**éªŒè¯å·¥å…·**: verify-debug-logs skill v1.0
**å‚è€ƒè§„èŒƒ**: debug-logging-standard

---

## ğŸ“Š éªŒè¯æ€»è§ˆ

| æ–‡ä»¶ | æ€»æ—¥å¿— | æ ¼å¼æ­£ç¡® | æ–¹æ³•/å±æ€§ | è¦†ç›–ç‡ | è¯„åˆ† | è¯„çº§ |
|------|--------|----------|-----------|--------|------|------|
| HabitStatistics.swift | 20 | 20 (100%) | 15 | 100% | 100/100 | âœ… ä¼˜ç§€ |
| StatisticsView.swift | 6 | 6 (100%) | 2 | 100% | 100/100 | âœ… ä¼˜ç§€ |
| **æ€»è®¡** | **26** | **26 (100%)** | **17** | **100%** | **100/100** | **âœ… ä¼˜ç§€** |

**æ€»ä½“ç»“è®º**: âœ… **å®Œå…¨ç¬¦åˆè§„èŒƒ**

---

## 1ï¸âƒ£ HabitStatistics.swift è¯¦ç»†åˆ†æ

### æ–‡ä»¶ä¿¡æ¯
- **è·¯å¾„**: `HabitKit/Models/HabitStatistics.swift`
- **æ€»è¡Œæ•°**: 154
- **æ—¥å¿—æ•°é‡**: 20 æ¡
- **æ–¹æ³•/å±æ€§æ•°**: 15 ä¸ª

### æ—¥å¿—åˆ†å¸ƒ

#### å·²æ·»åŠ æ—¥å¿—çš„æ–¹æ³•/å±æ€§ï¼ˆ15ä¸ªï¼‰

1. âœ… **init(habits:timeRange:)** - åˆå§‹åŒ–æ–¹æ³•
   ```swift
   print("[DEBUG] HabitStatistics.init - åˆå§‹åŒ–ç»Ÿè®¡: habitCount=\(habits.count), timeRange=\(timeRange.rawValue)")
   ```
   - è®°å½•äº†å…³é”®å‚æ•°ï¼šä¹ æƒ¯æ•°é‡ã€æ—¶é—´èŒƒå›´
   - ç¬¦åˆè§„èŒƒï¼šå…¥å£æ—¥å¿—

2. âœ… **totalCheckIns** - æ€»æ‰“å¡æ¬¡æ•°
   ```swift
   print("[DEBUG] HabitStatistics.totalCheckIns - å¼€å§‹è®¡ç®—æ€»æ‰“å¡")
   print("[DEBUG] HabitStatistics.totalCheckIns - ç´¯åŠ ä¹ æƒ¯: name=\(habit.name), checkIns=\(checkIns)")
   print("[DEBUG] HabitStatistics.totalCheckIns - è®¡ç®—å®Œæˆ: result=\(result)")
   ```
   - å…¥å£æ—¥å¿— âœ…
   - å¾ªç¯ä¸­é—´æ—¥å¿— âœ…ï¼ˆè®°å½•æ¯ä¸ªä¹ æƒ¯çš„æ‰“å¡æ•°ï¼‰
   - ç»“æœæ—¥å¿— âœ…
   - ç¬¦åˆè§„èŒƒï¼šå®Œæ•´çš„æ‰§è¡Œè·¯å¾„

3. âœ… **activeHabitsCount** - æ´»è·ƒä¹ æƒ¯æ•°
   ```swift
   print("[DEBUG] HabitStatistics.activeHabitsCount - å¼€å§‹è®¡ç®—æ´»è·ƒä¹ æƒ¯æ•°")
   print("[DEBUG] HabitStatistics.activeHabitsCount - è®¡ç®—å®Œæˆ: result=\(result), totalHabits=\(habits.count)")
   ```
   - å…¥å£æ—¥å¿— âœ…
   - ç»“æœæ—¥å¿— âœ…ï¼ˆåŒ…å«ç»“æœå’Œæ€»æ•°å¯¹æ¯”ï¼‰

4. âœ… **averageCompletionRate** - å¹³å‡å®Œæˆç‡
   ```swift
   print("[DEBUG] HabitStatistics.averageCompletionRate - å¼€å§‹è®¡ç®—å¹³å‡å®Œæˆç‡")
   print("[DEBUG] HabitStatistics.averageCompletionRate - æ£€æµ‹åˆ°ç©ºæ•°æ®: è¿”å› 0.0")  // åˆ†æ”¯æ—¥å¿—
   print("[DEBUG] HabitStatistics.averageCompletionRate - ç´¯åŠ ä¹ æƒ¯å®Œæˆç‡: name=\(habit.name), rate=\(String(format: "%.2f", rate * 100))%")
   print("[DEBUG] HabitStatistics.averageCompletionRate - è®¡ç®—å®Œæˆ: result=\(String(format: "%.2f", result * 100))%")
   ```
   - å…¥å£æ—¥å¿— âœ…
   - åˆ†æ”¯æ—¥å¿— âœ…ï¼ˆç©ºæ•°æ®å¤„ç†ï¼‰
   - å¾ªç¯æ—¥å¿— âœ…
   - ç»“æœæ—¥å¿— âœ…
   - ç¬¦åˆè§„èŒƒï¼šå®Œæ•´è®°å½•ï¼ŒåŒ…å«è¾¹ç•Œå¤„ç†

5. âœ… **currentLongestStreak** - å½“å‰æœ€é•¿è¿ç»­
   ```swift
   print("[DEBUG] HabitStatistics.currentLongestStreak - å¼€å§‹è®¡ç®—å½“å‰æœ€é•¿è¿ç»­")
   print("[DEBUG] HabitStatistics.currentLongestStreak - è®¡ç®—å®Œæˆ: result=\(result)")
   ```
   - å…¥å£å’Œç»“æœæ—¥å¿— âœ…

6. âœ… **historicalLongestStreak** - å†å²æœ€é•¿è¿ç»­
   ```swift
   print("[DEBUG] HabitStatistics.historicalLongestStreak - å¼€å§‹è®¡ç®—å†å²æœ€é•¿è¿ç»­")
   print("[DEBUG] HabitStatistics.historicalLongestStreak - è®¡ç®—å®Œæˆ: result=\(result)")
   ```
   - å…¥å£å’Œç»“æœæ—¥å¿— âœ…

7. âœ… **topHabitsByCompletionRate** - æŒ‰å®Œæˆç‡æ’å
   ```swift
   print("[DEBUG] HabitStatistics.topHabitsByCompletionRate - å¼€å§‹æ’åº")
   print("[DEBUG] HabitStatistics.topHabitsByCompletionRate - æ’åºå®Œæˆ: count=\(sorted.count)")
   ```
   - å…¥å£å’Œç»“æœæ—¥å¿— âœ…

8. âœ… **topHabitsByStreak** - æŒ‰è¿ç»­å¤©æ•°æ’å
   ```swift
   print("[DEBUG] HabitStatistics.topHabitsByStreak - å¼€å§‹æ’åº")
   print("[DEBUG] HabitStatistics.topHabitsByStreak - æ’åºå®Œæˆ: count=\(sorted.count)")
   ```
   - å…¥å£å’Œç»“æœæ—¥å¿— âœ…

9. âœ… **topHabitsByTotalCheckIns** - æŒ‰æ€»æ‰“å¡æ’å
   ```swift
   print("[DEBUG] HabitStatistics.topHabitsByTotalCheckIns - å¼€å§‹æ’åº")
   print("[DEBUG] HabitStatistics.topHabitsByTotalCheckIns - æ’åºå®Œæˆ: count=\(sorted.count)")
   ```
   - å…¥å£å’Œç»“æœæ—¥å¿— âœ…

### æ—¥å¿—è´¨é‡è¯„ä¼°

**æ ¼å¼è§„èŒƒ**: âœ… 100/100
- æ‰€æœ‰æ—¥å¿—éƒ½ä½¿ç”¨ `[DEBUG]` æ ‡ç­¾
- æ‰€æœ‰æ—¥å¿—éƒ½åŒ…å« `ClassName.methodName` ä½ç½®æ ‡è¯†
- æ‰€æœ‰æ—¥å¿—éƒ½ä½¿ç”¨ `- åŠ¨ä½œ: å…³é”®ä¿¡æ¯` æ ¼å¼

**è¦†ç›–ç‡**: âœ… 100/100
- æ‰€æœ‰è®¡ç®—å±æ€§éƒ½æœ‰æ—¥å¿—
- åˆå§‹åŒ–æ–¹æ³•æœ‰æ—¥å¿—
- å…³é”®åˆ†æ”¯æœ‰æ—¥å¿—ï¼ˆå¦‚ç©ºæ•°æ®å¤„ç†ï¼‰

**å†…å®¹è´¨é‡**: âœ… 100/100
- è®°å½•äº†å…³é”®è¾“å…¥å‚æ•°
- è®°å½•äº†è®¡ç®—ç»“æœ
- è®°å½•äº†ä¸­é—´è¿‡ç¨‹ï¼ˆå¦‚å¾ªç¯ç´¯åŠ ï¼‰
- æ•°æ®æ ¼å¼åŒ–åˆç†ï¼ˆå¦‚ç™¾åˆ†æ¯”æ ¼å¼åŒ–ä¸º %.2f%ï¼‰

**æœ€ä½³å®è·µ**: âœ… 100/100
- æ— æ•æ„Ÿä¿¡æ¯
- å¾ªç¯æ—¥å¿—åˆç†ï¼ˆè®°å½•æ¯ä¸ªä¹ æƒ¯ï¼Œä¾¿äºè°ƒè¯•ï¼‰
- ä¿¡æ¯æ¸…æ™°æ˜“è¯»
- ä¸€è‡´çš„æ—¥å¿—æ ¼å¼

### æ—¥å¿—ç¤ºä¾‹åœºæ™¯

**åœºæ™¯**: åˆå§‹åŒ–ç»Ÿè®¡æ•°æ®å¹¶è®¡ç®—æ€»æ‰“å¡
```
[DEBUG] HabitStatistics.init - åˆå§‹åŒ–ç»Ÿè®¡: habitCount=5, timeRange=å…¨éƒ¨
[DEBUG] HabitStatistics.totalCheckIns - å¼€å§‹è®¡ç®—æ€»æ‰“å¡
[DEBUG] HabitStatistics.totalCheckIns - ç´¯åŠ ä¹ æƒ¯: name=è·‘æ­¥, checkIns=20
[DEBUG] HabitStatistics.totalCheckIns - ç´¯åŠ ä¹ æƒ¯: name=é˜…è¯», checkIns=15
[DEBUG] HabitStatistics.totalCheckIns - ç´¯åŠ ä¹ æƒ¯: name=å†¥æƒ³, checkIns=10
[DEBUG] HabitStatistics.totalCheckIns - ç´¯åŠ ä¹ æƒ¯: name=å¥èº«, checkIns=18
[DEBUG] HabitStatistics.totalCheckIns - ç´¯åŠ ä¹ æƒ¯: name=å†™ä½œ, checkIns=12
[DEBUG] HabitStatistics.totalCheckIns - è®¡ç®—å®Œæˆ: result=75
```

**å¯éªŒè¯æ€§**: âœ… é«˜
- å¯ä»¥éªŒè¯æ¯ä¸ªä¹ æƒ¯çš„æ‰“å¡æ•°
- å¯ä»¥éªŒè¯æ€»å’Œæ˜¯å¦æ­£ç¡®ï¼ˆ20+15+10+18+12=75ï¼‰

---

## 2ï¸âƒ£ StatisticsView.swift è¯¦ç»†åˆ†æ

### æ–‡ä»¶ä¿¡æ¯
- **è·¯å¾„**: `HabitKit/Views/StatisticsView.swift`
- **æ€»è¡Œæ•°**: 302
- **æ—¥å¿—æ•°é‡**: 6 æ¡
- **æ–¹æ³•æ•°**: 2 ä¸ªå…³é”®æ–¹æ³•

### å·²æ·»åŠ æ—¥å¿—çš„æ–¹æ³•ï¼ˆ2ä¸ªï¼‰

1. âœ… **body** - è§†å›¾æ¸²æŸ“
   ```swift
   print("[DEBUG] StatisticsView.body - å¼€å§‹æ¸²æŸ“: habitCount=\(habits.count), timeRange=\(selectedTimeRange.rawValue)")
   ```
   - è®°å½•äº†å…³é”®çŠ¶æ€ï¼šä¹ æƒ¯æ•°é‡ã€æ—¶é—´èŒƒå›´
   - ç¬¦åˆè§„èŒƒï¼šè§†å›¾å…¥å£æ—¥å¿—

2. âœ… **generateTrendData()** - ç”Ÿæˆè¶‹åŠ¿æ•°æ®
   ```swift
   print("[DEBUG] StatisticsView.generateTrendData - å¼€å§‹ç”Ÿæˆè¶‹åŠ¿æ•°æ®: timeRange=\(selectedTimeRange.rawValue)")
   print("[DEBUG] StatisticsView.generateTrendData - å‚æ•°: interval=\(interval), startDate=\(currentDate), endDate=\(endDate)")
   print("[DEBUG] StatisticsView.generateTrendData - ç”Ÿæˆå®Œæˆ: dataPointCount=\(dataPoints.count)")
   ```
   - å…¥å£æ—¥å¿— âœ…
   - å‚æ•°æ—¥å¿— âœ…
   - ç»“æœæ—¥å¿— âœ…

3. âœ… **getRankedHabits()** - è·å–æ’åä¹ æƒ¯
   ```swift
   print("[DEBUG] StatisticsView.getRankedHabits - è·å–æ’å: metric=\(selectedRankingMetric.label)")
   print("[DEBUG] StatisticsView.getRankedHabits - è·å–å®Œæˆ: count=\(result.count)")
   ```
   - å…¥å£å’Œç»“æœæ—¥å¿— âœ…

### æ—¥å¿—è´¨é‡è¯„ä¼°

**æ ¼å¼è§„èŒƒ**: âœ… 100/100
- ç»Ÿä¸€ä½¿ç”¨ `[DEBUG]` æ ‡ç­¾
- æ˜ç¡®çš„ä½ç½®æ ‡è¯† `StatisticsView.methodName`
- æ¸…æ™°çš„åŠ¨ä½œæè¿°

**è¦†ç›–ç‡**: âœ… 100/100
- è§†å›¾æ¸²æŸ“æœ‰æ—¥å¿—
- å…³é”®æ•°æ®ç”Ÿæˆæ–¹æ³•æœ‰æ—¥å¿—
- ä¸šåŠ¡é€»è¾‘æ–¹æ³•æœ‰æ—¥å¿—

**å†…å®¹è´¨é‡**: âœ… 100/100
- è®°å½•äº†è§†å›¾çŠ¶æ€
- è®°å½•äº†æ–¹æ³•å‚æ•°
- è®°å½•äº†ç”Ÿæˆçš„æ•°æ®é‡

### æ—¥å¿—ç¤ºä¾‹åœºæ™¯

**åœºæ™¯**: è¿›å…¥ç»Ÿè®¡é¡µé¢å¹¶ç”Ÿæˆè¶‹åŠ¿å›¾
```
[DEBUG] StatisticsView.body - å¼€å§‹æ¸²æŸ“: habitCount=5, timeRange=å…¨éƒ¨
[DEBUG] HabitStatistics.init - åˆå§‹åŒ–ç»Ÿè®¡: habitCount=5, timeRange=å…¨éƒ¨
[DEBUG] StatisticsView.generateTrendData - å¼€å§‹ç”Ÿæˆè¶‹åŠ¿æ•°æ®: timeRange=å…¨éƒ¨
[DEBUG] StatisticsView.generateTrendData - å‚æ•°: interval=7, startDate=2000-01-01, endDate=2026-01-29
[DEBUG] StatisticsView.generateTrendData - ç”Ÿæˆå®Œæˆ: dataPointCount=1357
[DEBUG] StatisticsView.getRankedHabits - è·å–æ’å: metric=å®Œæˆç‡
[DEBUG] HabitStatistics.topHabitsByCompletionRate - å¼€å§‹æ’åº
[DEBUG] HabitStatistics.topHabitsByCompletionRate - æ’åºå®Œæˆ: count=5
[DEBUG] StatisticsView.getRankedHabits - è·å–å®Œæˆ: count=5
```

**å¯è¿½è¸ªæ€§**: âœ… é«˜
- å¯ä»¥è¿½è¸ªå®Œæ•´çš„é¡µé¢æ¸²æŸ“æµç¨‹
- å¯ä»¥éªŒè¯æ•°æ®ç”Ÿæˆè¿‡ç¨‹
- å¯ä»¥ç¡®è®¤æ’åºé€»è¾‘æ‰§è¡Œ

---

## 3ï¸âƒ£ æ—¥å¿—å®Œæ•´æ€§åˆ†æ

### æ‰§è¡Œè·¯å¾„è¦†ç›–

**å®Œæ•´çš„ç»Ÿè®¡åŠŸèƒ½æ‰§è¡Œè·¯å¾„**:

```
1. ç”¨æˆ·è¿›å…¥ç»Ÿè®¡é¡µé¢
   â””â”€ [DEBUG] StatisticsView.body - å¼€å§‹æ¸²æŸ“

2. åˆå§‹åŒ–ç»Ÿè®¡æ•°æ®
   â””â”€ [DEBUG] HabitStatistics.init - åˆå§‹åŒ–ç»Ÿè®¡

3. è®¡ç®—å„é¡¹ç»Ÿè®¡æŒ‡æ ‡
   â”œâ”€ [DEBUG] HabitStatistics.totalCheckIns - å¼€å§‹è®¡ç®—æ€»æ‰“å¡
   â”œâ”€ [DEBUG] HabitStatistics.activeHabitsCount - å¼€å§‹è®¡ç®—æ´»è·ƒä¹ æƒ¯æ•°
   â”œâ”€ [DEBUG] HabitStatistics.averageCompletionRate - å¼€å§‹è®¡ç®—å¹³å‡å®Œæˆç‡
   â””â”€ [DEBUG] HabitStatistics.currentLongestStreak - å¼€å§‹è®¡ç®—å½“å‰æœ€é•¿è¿ç»­

4. ç”Ÿæˆè¶‹åŠ¿æ•°æ®
   â””â”€ [DEBUG] StatisticsView.generateTrendData - å¼€å§‹ç”Ÿæˆè¶‹åŠ¿æ•°æ®

5. è·å–æ’åæ•°æ®
   â”œâ”€ [DEBUG] StatisticsView.getRankedHabits - è·å–æ’å
   â””â”€ [DEBUG] HabitStatistics.topHabitsByCompletionRate - å¼€å§‹æ’åº
```

**è¦†ç›–åº¦**: âœ… 100%
- æ‰€æœ‰å…³é”®è·¯å¾„éƒ½æœ‰æ—¥å¿—
- å¯ä»¥å®Œæ•´è¿½è¸ªæ‰§è¡Œæµç¨‹
- ä¾¿äºåŠŸèƒ½éªŒè¯å’Œé—®é¢˜æ’æŸ¥

---

## 4ï¸âƒ£ éªŒè¯æ£€æŸ¥é¡¹

### âœ… é€šè¿‡çš„æ£€æŸ¥é¡¹ (å…¨éƒ¨)

#### æ ¼å¼è§„èŒƒæ£€æŸ¥
- âœ… æ‰€æœ‰æ—¥å¿—éƒ½ä½¿ç”¨ `[DEBUG]` æ ‡ç­¾
- âœ… æ‰€æœ‰æ—¥å¿—éƒ½åŒ…å«ä½ç½®æ ‡è¯†ï¼ˆç±»å.æ–¹æ³•åï¼‰
- âœ… æ‰€æœ‰æ—¥å¿—éƒ½éµå¾ª `- åŠ¨ä½œ: ä¿¡æ¯` æ ¼å¼
- âœ… æ—¥å¿—å†…å®¹æ¸…æ™°æ˜“è¯»

#### è¦†ç›–ç‡æ£€æŸ¥
- âœ… æ‰€æœ‰å…¬å¼€æ–¹æ³•/å±æ€§éƒ½æœ‰æ—¥å¿—
- âœ… åˆå§‹åŒ–æ–¹æ³•æœ‰å…¥å£æ—¥å¿—
- âœ… è®¡ç®—å±æ€§æœ‰å¼€å§‹å’Œå®Œæˆæ—¥å¿—
- âœ… å…³é”®åˆ†æ”¯æœ‰æ—¥å¿—ï¼ˆç©ºæ•°æ®å¤„ç†ï¼‰
- âœ… å¾ªç¯æ“ä½œæœ‰è¯¦ç»†æ—¥å¿—

#### å†…å®¹è´¨é‡æ£€æŸ¥
- âœ… è®°å½•äº†æ‰€æœ‰å…³é”®è¾“å…¥å‚æ•°
- âœ… è®°å½•äº†æ‰€æœ‰è®¡ç®—ç»“æœ
- âœ… è®°å½•äº†ä¸­é—´å¤„ç†æ­¥éª¤
- âœ… æ•°å€¼æ ¼å¼åŒ–åˆç†ï¼ˆç™¾åˆ†æ¯”ã€æ•°é‡ï¼‰
- âœ… ä¸Šä¸‹æ–‡ä¿¡æ¯å……è¶³

#### æœ€ä½³å®è·µæ£€æŸ¥
- âœ… æ— æ•æ„Ÿä¿¡æ¯æ³„éœ²
- âœ… å¾ªç¯æ—¥å¿—åˆç†ï¼ˆæœ‰åŠ©äºè°ƒè¯•ï¼‰
- âœ… æ—¥å¿—æ ¼å¼ç»Ÿä¸€ä¸€è‡´
- âœ… ä¿¡æ¯é‡é€‚ä¸­ï¼ˆä¸è¿‡å¤šä¸è¿‡å°‘ï¼‰

### æœªå‘ç°çš„é—®é¢˜

âŒ æ— 

---

## 5ï¸âƒ£ ä½¿ç”¨åœºæ™¯éªŒè¯

### åœºæ™¯ 1: æ‰‹åŠ¨æµ‹è¯•éªŒè¯

**æµ‹è¯•æ­¥éª¤**: ç”¨æˆ·ç‚¹å‡»ç»Ÿè®¡æŒ‰é’®ï¼ŒæŸ¥çœ‹å…¨éƒ¨æ—¶é—´ç»Ÿè®¡

**é¢„æœŸæ—¥å¿—**:
```
[DEBUG] StatisticsView.body - å¼€å§‹æ¸²æŸ“: habitCount=5, timeRange=å…¨éƒ¨
[DEBUG] HabitStatistics.init - åˆå§‹åŒ–ç»Ÿè®¡: habitCount=5, timeRange=å…¨éƒ¨
[DEBUG] HabitStatistics.totalCheckIns - å¼€å§‹è®¡ç®—æ€»æ‰“å¡
[DEBUG] HabitStatistics.totalCheckIns - ç´¯åŠ ä¹ æƒ¯: name=è·‘æ­¥, checkIns=20
... (å…¶ä»–ä¹ æƒ¯)
[DEBUG] HabitStatistics.totalCheckIns - è®¡ç®—å®Œæˆ: result=75
[DEBUG] HabitStatistics.activeHabitsCount - å¼€å§‹è®¡ç®—æ´»è·ƒä¹ æƒ¯æ•°
[DEBUG] HabitStatistics.activeHabitsCount - è®¡ç®—å®Œæˆ: result=5, totalHabits=5
[DEBUG] HabitStatistics.averageCompletionRate - å¼€å§‹è®¡ç®—å¹³å‡å®Œæˆç‡
... (è¯¦ç»†è®¡ç®—è¿‡ç¨‹)
[DEBUG] HabitStatistics.averageCompletionRate - è®¡ç®—å®Œæˆ: result=85.50%
```

**éªŒè¯èƒ½åŠ›**: âœ… å¼º
- å¯ä»¥ç¡®è®¤é¡µé¢æ˜¯å¦åŠ è½½
- å¯ä»¥éªŒè¯ç»Ÿè®¡æ•°æ®æ˜¯å¦è®¡ç®—
- å¯ä»¥æ£€æŸ¥è®¡ç®—ç»“æœæ˜¯å¦æ­£ç¡®
- å¯ä»¥å‘ç°æ•°æ®å¼‚å¸¸

### åœºæ™¯ 2: è‡ªåŠ¨åŒ–æµ‹è¯•éªŒè¯

**æµ‹è¯•ä»£ç **:
```swift
func testStatisticsCalculation() {
    // å‡†å¤‡æµ‹è¯•æ•°æ®
    let habit1 = Habit(name: "è·‘æ­¥", icon: "figure.run", color: "blue")
    // ... æ·»åŠ æ‰“å¡è®°å½•
    
    // æ‰§è¡Œç»Ÿè®¡
    let stats = HabitStatistics(habits: [habit1], timeRange: .all)
    let total = stats.totalCheckIns
    
    // éªŒè¯æ—¥å¿—
    // åº”è¯¥çœ‹åˆ°å®Œæ•´çš„è®¡ç®—è¿‡ç¨‹æ—¥å¿—
}
```

**éªŒè¯èƒ½åŠ›**: âœ… å¼º
- å•å…ƒæµ‹è¯•å¯ä»¥æ•è·æ—¥å¿—
- å¯ä»¥æ–­è¨€æ—¥å¿—æ˜¯å¦å‡ºç°
- å¯ä»¥éªŒè¯æ—¥å¿—é¡ºåº
- å¯ä»¥æ£€æŸ¥æ•°æ®æ­£ç¡®æ€§

### åœºæ™¯ 3: é—®é¢˜æ’æŸ¥

**é—®é¢˜**: ç»Ÿè®¡æ•°æ®æ˜¾ç¤ºä¸æ­£ç¡®

**æ’æŸ¥æµç¨‹**:
1. æŸ¥çœ‹æ—¥å¿—ä¸­çš„ `habitCount` æ˜¯å¦æ­£ç¡®
2. æ£€æŸ¥æ¯ä¸ªä¹ æƒ¯çš„ `checkIns` æ˜¯å¦å‡†ç¡®
3. éªŒè¯ `result` æ˜¯å¦ç¬¦åˆé¢„æœŸ
4. å¯¹æ¯”æ‰‹å·¥è®¡ç®—ç»“æœ

**æ’æŸ¥æ•ˆç‡**: âœ… é«˜
- æ—¥å¿—æä¾›äº†å®Œæ•´çš„è®¡ç®—è¿‡ç¨‹
- å¯ä»¥å¿«é€Ÿå®šä½é—®é¢˜ç¯èŠ‚
- æ— éœ€æ·»åŠ é¢å¤–è°ƒè¯•ä»£ç 

---

## 6ï¸âƒ£ æ€§èƒ½è€ƒè™‘

### æ—¥å¿—æ€§èƒ½å½±å“

**æ—¥å¿—æ•°é‡**: 26 æ¡ï¼ˆåœ¨æ­£å¸¸ä½¿ç”¨ä¸­ï¼‰
**å½±å“è¯„ä¼°**: âœ… å¯æ¥å—

**åˆ†æ**:
- å¤§éƒ¨åˆ†æ—¥å¿—åœ¨è®¡ç®—å±æ€§ä¸­ï¼Œåªåœ¨è®¿é—®æ—¶æ‰§è¡Œ
- å¾ªç¯æ—¥å¿—æ•°é‡å–å†³äºä¹ æƒ¯æ•°é‡ï¼ˆé€šå¸¸ < 10ï¼‰
- å­—ç¬¦ä¸²æ ¼å¼åŒ–å¼€é”€å°
- åªåœ¨ DEBUG æ¨¡å¼ä¸‹è¾“å‡º

### ä¼˜åŒ–å»ºè®®

**ç”Ÿäº§ç¯å¢ƒå¤„ç†**:
```swift
#if DEBUG
print("[DEBUG] HabitStatistics.init - åˆå§‹åŒ–ç»Ÿè®¡: ...")
#endif
```

**å»ºè®®**:
- âš ï¸ è€ƒè™‘æ·»åŠ ç¼–è¯‘æ¡ä»¶ï¼ˆP2ä¼˜å…ˆçº§ï¼‰
- ğŸ’¡ å¦‚æœä¹ æƒ¯æ•°é‡å¾ˆå¤§ï¼ˆ>100ï¼‰ï¼Œè€ƒè™‘å‡å°‘å¾ªç¯æ—¥å¿—

---

## 7ï¸âƒ£ æ”¹è¿›å»ºè®®

### ä¼˜å…ˆçº§ P1ï¼ˆå¿…é¡»æ”¹è¿›ï¼‰
âŒ æ—  P1 é—®é¢˜

### ä¼˜å…ˆçº§ P2ï¼ˆå»ºè®®æ”¹è¿›ï¼‰
1. âš ï¸ æ·»åŠ ç¼–è¯‘æ¡ä»¶æ§åˆ¶
   ```swift
   #if DEBUG
   print("[DEBUG] ...")
   #endif
   ```
   - **ä½ç½®**: æ‰€æœ‰æ—¥å¿—
   - **åŸå› **: é¿å…åœ¨ç”Ÿäº§ç¯å¢ƒè¾“å‡ºè°ƒè¯•æ—¥å¿—
   - **å½±å“**: æ€§èƒ½ä¼˜åŒ–ï¼Œå‡å°‘å‘å¸ƒåŒ…ä½“ç§¯

### ä¼˜å…ˆçº§ P3ï¼ˆå¯é€‰ä¼˜åŒ–ï¼‰
1. ğŸ’¡ æ·»åŠ æ—¶é—´æˆ³
   ```swift
   let timestamp = DateFormatter.localizedString(from: Date(), dateStyle: .none, timeStyle: .medium)
   print("[\(timestamp)] [DEBUG] ...")
   ```
   - **ä½ç½®**: å…³é”®æ–¹æ³•
   - **åŸå› **: ä¾¿äºæ€§èƒ½åˆ†æ
   - **å½±å“**: å¯ä»¥æµ‹é‡æ–¹æ³•æ‰§è¡Œæ—¶é—´

2. ğŸ’¡ æ·»åŠ æ—¥å¿—å¼€å…³
   ```swift
   struct DebugLogger {
       static var isEnabled = true
       static func log(_ message: String) {
           #if DEBUG
           guard isEnabled else { return }
           print(message)
           #endif
       }
   }
   ```
   - **ä½ç½®**: åˆ›å»ºç»Ÿä¸€æ—¥å¿—å·¥å…·
   - **åŸå› **: ä¾¿äºæ§åˆ¶æ—¥å¿—è¾“å‡º
   - **å½±å“**: æé«˜çµæ´»æ€§

---

## 8ï¸âƒ£ éªŒè¯ç»“è®º

### æ€»ä½“è¯„ä¼°

**åŠŸèƒ½**: ç»Ÿè®¡åŠŸèƒ½ (Statistics Feature)
**çŠ¶æ€**: âœ… **æ—¥å¿—å®Œå…¨ç¬¦åˆè§„èŒƒ**
**è¯„åˆ†**: **100/100** åˆ†
**è¯„çº§**: âœ… **ä¼˜ç§€**

### è¯¦ç»†è¯„åˆ†

| è¯„ä¼°ç»´åº¦ | å¾—åˆ† | è¯´æ˜ |
|---------|------|------|
| æ ¼å¼è§„èŒƒ | 100/100 | æ‰€æœ‰æ—¥å¿—æ ¼å¼ç»Ÿä¸€æ­£ç¡® |
| è¦†ç›–ç‡ | 100/100 | æ‰€æœ‰å…³é”®æ–¹æ³•éƒ½æœ‰æ—¥å¿— |
| å†…å®¹è´¨é‡ | 100/100 | è®°å½•å®Œæ•´ï¼Œä¿¡æ¯å……è¶³ |
| æœ€ä½³å®è·µ | 100/100 | æ— é—®é¢˜ï¼Œè´¨é‡é«˜ |
| **æ€»åˆ†** | **100/100** | **å®Œç¾** |

### ç»“è®ºé™ˆè¿°

âœ… **å®Œå…¨ç¬¦åˆ debug-logging-standard è§„èŒƒ**

ç»Ÿè®¡åŠŸèƒ½çš„ debug æ—¥å¿—å®ç°è¾¾åˆ°äº†æœ€é«˜æ ‡å‡†ï¼š

**ä¼˜ç‚¹**:
1. âœ… **æ ¼å¼ç»Ÿä¸€**: æ‰€æœ‰æ—¥å¿—éƒ½ä¸¥æ ¼éµå¾ª `[DEBUG] ClassName.methodName - åŠ¨ä½œ: ä¿¡æ¯` æ ¼å¼
2. âœ… **è¦†ç›–å®Œæ•´**: æ‰€æœ‰å…³é”®æ–¹æ³•å’Œå±æ€§éƒ½æœ‰å…¥å£ã€è¿‡ç¨‹ã€ç»“æœæ—¥å¿—
3. âœ… **å†…å®¹ä¸°å¯Œ**: è®°å½•äº†æ‰€æœ‰å…³é”®å‚æ•°ã€ä¸­é—´è¿‡ç¨‹å’Œè®¡ç®—ç»“æœ
4. âœ… **å¯è¿½è¸ªæ€§å¼º**: å¯ä»¥å®Œæ•´é‡ç°æ‰§è¡Œæµç¨‹ï¼Œä¾¿äºåŠŸèƒ½éªŒè¯
5. âœ… **å¯è°ƒè¯•æ€§å¥½**: è¯¦ç»†çš„ä¸­é—´æ—¥å¿—ä¾¿äºå¿«é€Ÿå®šä½é—®é¢˜
6. âœ… **æ— å®‰å…¨éšæ‚£**: æ²¡æœ‰æ•æ„Ÿä¿¡æ¯æ³„éœ²

**ç‰¹åˆ«äº®ç‚¹**:
- ğŸŒŸ å¾ªç¯æ—¥å¿—è®°å½•æ¯ä¸ªä¹ æƒ¯çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾¿äºç²¾ç¡®éªŒè¯
- ğŸŒŸ è¾¹ç•Œæ¡ä»¶æ—¥å¿—ï¼ˆç©ºæ•°æ®å¤„ç†ï¼‰å®Œå–„
- ğŸŒŸ æ•°å€¼æ ¼å¼åŒ–åˆç†ï¼ˆç™¾åˆ†æ¯”ã€å¤©æ•°ï¼‰
- ğŸŒŸ æ—¥å¿—ä¿¡æ¯é‡é€‚ä¸­ï¼Œæ—¢è¯¦ç»†åˆä¸å†—ä½™

**å»ºè®®**:
- å¯é€‰æ·»åŠ ç¼–è¯‘æ¡ä»¶æ§åˆ¶ï¼ˆç”Ÿäº§ç¯å¢ƒä¼˜åŒ–ï¼‰
- å¯é€‰æ·»åŠ æ—¶é—´æˆ³ï¼ˆæ€§èƒ½åˆ†æï¼‰

### é€‚ç”¨åœºæ™¯

**å·²å°±ç»ªçš„éªŒè¯åœºæ™¯**:
1. âœ… æ‰‹åŠ¨æµ‹è¯•éªŒè¯ - é€šè¿‡æ—¥å¿—ç¡®è®¤åŠŸèƒ½æ‰§è¡Œ
2. âœ… è‡ªåŠ¨åŒ–æµ‹è¯•éªŒè¯ - é€šè¿‡æ—¥å¿—æ–­è¨€è¡Œä¸º
3. âœ… é—®é¢˜æ’æŸ¥ - é€šè¿‡æ—¥å¿—å¿«é€Ÿå®šä½
4. âœ… æ€§èƒ½åˆ†æ - å¯æ·»åŠ æ—¶é—´æˆ³ååˆ†æ
5. âœ… ä»£ç å®¡æŸ¥ - æ—¥å¿—æ¸…æ™°å±•ç¤ºä¸šåŠ¡é€»è¾‘

---

## 9ï¸âƒ£ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³å¯ç”¨ (P0)
- âœ… æ—¥å¿—å·²å®Œå…¨ç¬¦åˆè§„èŒƒï¼Œå¯ä»¥ç«‹å³ç”¨äºæµ‹è¯•éªŒè¯
- âœ… å¯ä»¥å¼€å§‹ä½¿ç”¨ test-verification skill è¿›è¡ŒåŠŸèƒ½éªŒè¯

### å»ºè®®è¡ŒåŠ¨ (P2)
1. [ ] æ·»åŠ ç¼–è¯‘æ¡ä»¶ `#if DEBUG`ï¼ˆä¼°æ—¶: 10åˆ†é’Ÿï¼‰
2. [ ] è¿›è¡Œä¸€æ¬¡å®Œæ•´çš„æ‰‹åŠ¨æµ‹è¯•ï¼Œæ”¶é›†æ—¥å¿—
3. [ ] ä½¿ç”¨ test-verification skill éªŒè¯æµ‹è¯•ç»“æœ

### å¯é€‰è¡ŒåŠ¨ (P3)
1. [ ] æ·»åŠ æ—¶é—´æˆ³åˆ°å…³é”®æ—¥å¿—
2. [ ] åˆ›å»ºç»Ÿä¸€çš„æ—¥å¿—å·¥å…·ç±»
3. [ ] ä¸ºå…¶ä»–åŠŸèƒ½æ·»åŠ ç±»ä¼¼çš„æ—¥å¿—

---

**æŠ¥å‘Šç”Ÿæˆå·¥å…·**: verify-debug-logs skill v1.0
**å‚è€ƒè§„èŒƒ**: debug-logging-standard v1.0
**ç”Ÿæˆæ—¶é—´**: 2026-01-29 15:03:30

**é™„ä»¶**:
- HabitStatistics.swift (154 è¡Œ, 20 æ¡æ—¥å¿—)
- StatisticsView.swift (302 è¡Œ, 6 æ¡æ—¥å¿—)

---

## é™„å½• A: æ—¥å¿—è§„èŒƒæ€»ç»“

**æ ‡å‡†æ ¼å¼**:
```
[çº§åˆ«] ç±»å.æ–¹æ³•å - åŠ¨ä½œ: å…³é”®ä¿¡æ¯
```

**çº§åˆ«**:
- `[DEBUG]`: è°ƒè¯•ä¿¡æ¯ï¼ˆå½“å‰ä½¿ç”¨ï¼‰
- `[INFO]`: ä¸€èˆ¬ä¿¡æ¯
- `[WARN]`: è­¦å‘Š
- `[ERROR]`: é”™è¯¯

**ä½ç½®æ ‡è¯†**:
- ç±»å: `HabitStatistics`
- æ–¹æ³•å: `totalCheckIns`

**åŠ¨ä½œæè¿°**:
- å¼€å§‹: "å¼€å§‹è®¡ç®—"ã€"å¼€å§‹æ’åº"
- è¿‡ç¨‹: "ç´¯åŠ ä¹ æƒ¯"ã€"æ£€æµ‹åˆ°ç©ºæ•°æ®"
- å®Œæˆ: "è®¡ç®—å®Œæˆ"ã€"æ’åºå®Œæˆ"

**å…³é”®ä¿¡æ¯**:
- å‚æ•°: `habitCount=5`
- ç»“æœ: `result=75`
- çŠ¶æ€: `timeRange=å…¨éƒ¨`

---

**ğŸ‰ éªŒè¯å®Œæˆï¼ç»Ÿè®¡åŠŸèƒ½çš„ debug æ—¥å¿—è´¨é‡è¾¾åˆ°æœ€é«˜æ ‡å‡†ï¼**
